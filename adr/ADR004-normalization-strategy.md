# ADR004: Normalization Strategy

### Status
Accepted

---

### Context
OPA decision log에는 정책명, 룰명, violation 메시지가 그대로 포함된다.

이 정보들은 정책 작성 관점에서는 유용하지만,
운영 디버깅이나 사용자 안내 관점에서는 그대로 사용하기 어려움

정책 이름이나 룰 표현이 변경될 경우, 해석이 변경될 가능성도 존재

---

### Decision
정책 평가 결과를 그대로 노출하지 않고, 운영 관점에서 의미를 갖는 최소한의 정규화 단위를 정의

- violation 메시지를 그대로 사용하지 않는다
- 운영 기준의 reason code를 정의
- 하나의 요청에 대해 대표적인 거절 사유를 식별

정규화는 운영 디버깅에 필요한 수준으로만 제한

---

### Consequences
- 운영자가 거절 사유를 빠르게 이해할 수 있다.
- 정책 내부 표현 변경에 대한 영향이 줄어든다.
- 초기에는 reason code 정의에 대한 고민이 필요하다.
