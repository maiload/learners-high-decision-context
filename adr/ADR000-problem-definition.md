# ADR000: Problem Definition

### Status
Accepted

---

### Context
기존 Zero Trust POC에서는 OPA(Open Policy Agent)가 남기는 decision log를 그대로 저장하고,  
이를 조회하는 방식으로 정책 디버깅을 진행

OPA decision log는 정책 평가 엔진 관점에서 설계된 로그로,  
정책과 룰이 어떻게 평가되었는지에 대한 정보를 제공

하지만 실제 운영 관점에서 디버깅을 진행하면서,  
정책 기준의 로그 구조가 운영자의 디버깅 방식과 맞지 않는다는 점이 드러남

운영자는 정책 단위가 아니라  
**하나의 접근 요청(request)을 기준으로 왜 Deny 되었는지**를 파악해야 한다.

---

### Decision
정책 평가 관점으로 구성된 OPA decision log를 그대로 사용하는 대신,  
접근 요청 기준으로 판단 결과를 다시 정리할 필요가 있다고 판단

즉, 정책 단위 로그를  
운영자가 이해하기 쉬운 요청 단위의 맥락(Context)으로 재배치하는 방향을 검토

---

### Consequences
- 접근 요청이 왜 거절되었는지를 요청 단위로 파악할 수 있다.
- 정책, 룰, 위반 사유를 사람이 직접 조합해야 하는 부담이 줄어든다.
- 정책 엔진의 로그와 운영 디버깅 관점을 분리할 수 있다.
